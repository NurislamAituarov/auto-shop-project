{"version":3,"file":"static/js/710.da368b94.chunk.js","mappings":"yJACA,EAA+B,mCAA/B,EAAuE,yBAAvE,EAA4G,gCAA5G,EAA8J,sC,gDCSvJ,SAASA,EAAT,GAAqD,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,UACpC,OACE,iCACE,iBAAKC,UAAWC,EAAhB,WACE,SAAC,KAAD,CAASC,GAAG,IAAZ,UACE,cAAGC,QAAS,kBAAMC,aAAaC,QAAQ,SAAU,kEAAjD,6DAEF,uBAAIP,QAEN,iBAAKE,UAAWM,GAAAA,EAAG,UAAGL,EAAcF,IAApC,WACE,wBAAKD,MACFC,GAAaA,EAAY,IAC1B,iCACE,SAACQ,EAAA,EAAD,CAAKT,MAAK,kEAAgBC,GAAaS,KAAK,IAAIC,KAAK,MACrD,SAACF,EAAA,EAAD,CAAKT,MAAM,4DAAeU,KAAK,IAAIC,KAAK,MACxC,SAACF,EAAA,EAAD,CAAKT,MAAM,mCAAUU,KAAK,IAAIC,KAAK,MACnC,eAAGT,UAAWC,EAAd,4EACc,4BAAOF,EAAP,yCAMpB,eAAIC,UAAWC,S,yFChCrB,EAA0B,yBAA1B,EAAmE,+B,2DCSpD,SAASS,IACtB,IAAMC,GAAaC,EAAAA,EAAAA,IAAe,SAACC,GAAD,OAAgBA,EAAMC,QAAQC,eAChE,GAA0BC,EAAAA,EAAAA,UAAuBL,GAAjD,eAAOE,EAAP,KAAcI,EAAd,KACMC,GAAYC,EAAAA,EAAAA,QAAkC,IA8BpD,OA5BAC,EAAAA,EAAAA,YAAU,WACR,SAASC,IACP,GAAIC,OAAOC,WAAa,KAAOD,OAAOC,WAAa,IAAK,CACtD,IAAMC,EAASb,EAAWc,MAAM,EAAG,GACnCR,EAASO,GAEX,GAAIF,OAAOC,WAAa,IAAK,CAC3B,IAAMC,EAASb,EAAWc,MAAM,EAAG,GACnCR,EAASO,GAGX,GAAIF,OAAOC,WAAa,IAAK,CAC3B,IAAMC,EAASb,EAAWc,MAAM,EAAG,GACnCR,EAASO,IAKb,OAFAH,IACAC,OAAOI,iBAAiB,SAAUL,GAC3B,WACLC,OAAOK,oBAAoB,SAAUN,MAEtC,CAACV,KAQF,qBAASX,UAAWC,EAApB,WACE,UAAC,KAAD,YACE,wCACA,iBAAM2B,KAAK,cAAcC,QAAQ,6HAEnC,SAAC,IAAD,CAAc/B,MAAM,0CACpB,gBAAKE,UAAWC,EAAhB,SACGY,EAAMiB,KAAI,SAACC,EAAaC,GACvB,OAAO,SAACC,EAAA,EAAD,CAAiBF,KAAMA,EAAcC,EAAGA,EAAGE,WAAYhB,GAArBc,SAG7C,SAACG,EAAA,EAAD,CAAQrC,MAAM,sEAAesC,MAjBjC,WACE,IAAMZ,EAASX,EAAMwB,OAAOxB,EAAMY,MAAM,EAAG,IAC3CR,EAASO,W,sFCvCb,EAAqC,sCAArC,EAA+F,qCAA/F,EAA0J,uCAA1J,EAAsN,sCAAtN,EAAwQ,6BAAxQ,EAA4S,wB,0DCcrS,SAASc,EAAT,GAA2D,IAAhCP,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,EAAGE,EAAsB,EAAtBA,WACzC,GAA0BlB,EAAAA,EAAAA,UAAwB,MAAlD,eAAOuB,EAAP,KAAcC,EAAd,MAEApB,EAAAA,EAAAA,YAAU,WACR,SAASqB,EAAYC,GAAS,IAAD,EACb,OAAVH,GAAkB,UAACL,EAAWS,QAAQJ,UAApB,OAAC,EAA2BK,SAASF,EAAEG,SAC3DL,EAAS,MAIb,OADAM,SAASpB,iBAAiB,QAASe,GAAa,GACzC,WACLK,SAASnB,oBAAoB,QAASc,GAAa,MAEpD,CAACF,EAAOL,IAoBX,OACE,iBAAKa,SAAU,EAAGC,IAAK,SAACC,GAAD,OAASf,EAAWS,QAAQX,GAAKiB,GAAKjD,UAAWC,EAAxE,WACE,iBAAKD,UAAWC,EAAhB,WACE,gBAAKiD,IAAKC,EAAAA,GAAWC,IAAI,YACzB,gBAAKF,IAAKG,EAAAA,GAAMD,IAAI,aAEtB,UAACE,EAAA,MAAD,CACEC,QAAM,EACNC,SAlBW,CACfC,QAAS,CACPC,WAAY,CACVC,KAAM,iBACNC,gBAAiB,KAGrBC,OAAQ,IAYJC,QAAS,SACTC,QAASxB,IAAUP,EAAI,UAAY,SACnChC,UAAWM,GAAAA,CAAGL,GAAD,UACVA,EAAcsC,IAAUP,IAN7B,WAQE,wBAAKD,EAAKH,OAETW,IAAUP,GACT,uBAAID,EAAKjC,SAET,UAACwD,EAAA,MAAD,YACE,uBAAIvB,EAAKjC,MAAM2B,MAAM,EAAG,KAAO,SAAY,QAI/C,iBACEtB,QAAS,SAACuC,GACRA,EAAEsB,kBA5CZ,SAAuBhC,GAEnBQ,EADED,GAAmB,IAAVA,EACF,KAEAP,GAyCHiC,CAAcjC,IAEhBhC,UAAWC,EALb,WAME,mFACA,gBAAKD,UAAWM,GAAAA,EAAG,UAAGL,EAASsC,IAAUP,IAAzC,UACE,SAAC,KAAD,CAAMkC,MAAM","sources":["webpack://auto-shop/./src/components/Company-title/CompanyTitle.module.scss?295e","components/Company-title/index.tsx","webpack://auto-shop/./src/pages/Reviews/Reviews.module.scss?0a53","pages/Reviews/Reviews.tsx","webpack://auto-shop/./src/pages/Reviews/components/BlockItem.module.scss?3faa","pages/Reviews/components/BlockItem.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"company__sub\":\"CompanyTitle_company__sub__xGqT2\",\"hr\":\"CompanyTitle_hr__HsZj6\",\"favorites\":\"CompanyTitle_favorites__u5Z3b\",\"favorites__info\":\"CompanyTitle_favorites__info__+Co7W\"};","import s from './CompanyTitle.module.scss';\nimport cn from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { Tag } from '../Tag';\n\ninterface IProps {\n  title: string;\n  favorites?: number;\n}\n\nexport function CompanyTitle({ title, favorites }: IProps) {\n  return (\n    <>\n      <div className={s.company__sub}>\n        <NavLink to=\"/\">\n          <p onClick={() => localStorage.setItem('active', 'Подбор авто')}>Главная /</p>\n        </NavLink>\n        <p>{title}</p>\n      </div>\n      <div className={cn({ [s.favorites]: favorites })}>\n        <h1>{title}</h1>\n        {!!favorites && favorites > 0 && (\n          <>\n            <Tag title={`Новые авто ${favorites}`} size=\"m\" link=\"\" />\n            <Tag title=\"С пробегом 0\" size=\"m\" link=\"\" />\n            <Tag title=\"Такси 0\" size=\"m\" link=\"\" />\n            <p className={s.favorites__info}>\n              В избранном <span>{favorites} авто</span>\n            </p>\n          </>\n        )}\n      </div>\n\n      <hr className={s.hr} />\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Reviews_section__WuDDe\",\"block__review\":\"Reviews_block__review__vO+ki\",\"block__review_item\":\"Reviews_block__review_item__Np9l1\",\"block__review_title\":\"Reviews_block__review_title__tMyCt\"};","import { useEffect, useRef, useState } from 'react';\nimport s from './Reviews.module.scss';\nimport { Helmet } from 'react-helmet-async';\n\nimport { Button } from '../../components/Btn/Button';\nimport { useAppSelector } from '../../hooks/Hooks';\nimport { IItem } from '../../types';\nimport { CompanyTitle } from '../../components/Company-title';\nimport { BlockItemReview } from './components/BlockItem';\n\nexport default function Reviews() {\n  const reviewUser = useAppSelector((state: any) => state.reducer.reviewsUser);\n  const [state, setState] = useState<Array<IItem>>(reviewUser);\n  const refBlocks = useRef<(HTMLDivElement | null)[]>([]);\n\n  useEffect(() => {\n    function onResize() {\n      if (window.innerWidth < 768 && window.innerWidth > 378) {\n        const newArr = reviewUser.slice(0, 2);\n        setState(newArr);\n      }\n      if (window.innerWidth < 378) {\n        const newArr = reviewUser.slice(0, 1);\n        setState(newArr);\n      }\n\n      if (window.innerWidth > 768) {\n        const newArr = reviewUser.slice(0, 6);\n        setState(newArr);\n      }\n    }\n    onResize();\n    window.addEventListener('resize', onResize);\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, [reviewUser]);\n\n  function showMoreReview() {\n    const newArr = state.concat(state.slice(0, 6));\n    setState(newArr);\n  }\n\n  return (\n    <section className={s.section}>\n      <Helmet>\n        <title>Reviews</title>\n        <meta name=\"description\" content=\"Отзывы наших клиентов\" />\n      </Helmet>\n      <CompanyTitle title=\"Отзывы\" />\n      <div className={s.block__review}>\n        {state.map((item: IItem, i: number) => {\n          return <BlockItemReview item={item} key={i} i={i} refElement={refBlocks} />;\n        })}\n      </div>\n      <Button title=\"Показать еще\" click={showMoreReview} />\n    </section>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block__review_item\":\"BlockItem_block__review_item__fgBEs\",\"block__review_img\":\"BlockItem_block__review_img__l1Ki0\",\"block__review_title\":\"BlockItem_block__review_title__473+Q\",\"block__review_more\":\"BlockItem_block__review_more__DGQRc\",\"show_more\":\"BlockItem_show_more__OPyb8\",\"down\":\"BlockItem_down__omvru\"};","import { useEffect, useState } from 'react';\nimport s from './BlockItem.module.scss';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\n\nimport { IItem } from '../../../types';\nimport { Down } from '../../../components/Svg';\nimport { play, reviewImg } from '../../../assets';\n\ninterface IProps {\n  item: IItem;\n  i: number;\n  refElement: any;\n}\n\nexport function BlockItemReview({ item, i, refElement }: IProps) {\n  const [index, setIndex] = useState<number | null>(null);\n\n  useEffect(() => {\n    function handleClose(e: any) {\n      if (index !== null && !refElement.current[index]?.contains(e.target)) {\n        setIndex(null);\n      }\n    }\n    document.addEventListener('click', handleClose, true);\n    return () => {\n      document.removeEventListener('click', handleClose, true);\n    };\n  }, [index, refElement]);\n\n  function showMoreTitle(i: number) {\n    if (index || index === 0) {\n      setIndex(null);\n    } else {\n      setIndex(i);\n    }\n  }\n\n  const variants = {\n    visible: {\n      transition: {\n        when: 'beforeChildren',\n        staggerChildren: 0.1,\n      },\n    },\n    hidden: {},\n  };\n\n  return (\n    <div tabIndex={0} ref={(el) => (refElement.current[i] = el)} className={s.block__review_item}>\n      <div className={s.block__review_img}>\n        <img src={reviewImg} alt=\"review\" />\n        <img src={play} alt=\"play\" />\n      </div>\n      <motion.div\n        layout\n        variants={variants}\n        initial={'hidden'}\n        animate={index === i ? 'visible' : 'hidden'}\n        className={cn(s.block__review_title, {\n          [s.show_more]: index === i,\n        })}>\n        <h2>{item.name}</h2>\n\n        {index === i ? (\n          <p>{item.title}</p>\n        ) : (\n          <motion.div>\n            <p>{item.title.slice(0, 204) + ' ...'}</p>{' '}\n          </motion.div>\n        )}\n\n        <div\n          onClick={(e) => {\n            e.stopPropagation();\n            showMoreTitle(i);\n          }}\n          className={s.block__review_more}>\n          <p>Подробнее</p>\n          <div className={cn({ [s.down]: index === i })}>\n            <Down color=\"black\" />\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"names":["CompanyTitle","title","favorites","className","s","to","onClick","localStorage","setItem","cn","Tag","size","link","Reviews","reviewUser","useAppSelector","state","reducer","reviewsUser","useState","setState","refBlocks","useRef","useEffect","onResize","window","innerWidth","newArr","slice","addEventListener","removeEventListener","name","content","map","item","i","BlockItem","refElement","Button","click","concat","BlockItemReview","index","setIndex","handleClose","e","current","contains","target","document","tabIndex","ref","el","src","reviewImg","alt","play","motion","layout","variants","visible","transition","when","staggerChildren","hidden","initial","animate","stopPropagation","showMoreTitle","color"],"sourceRoot":""}