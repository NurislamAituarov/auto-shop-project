{"version":3,"file":"static/js/562.58198ab2.chunk.js","mappings":"0LACA,EAA0B,4BAA1B,EAAwE,oC,SCKzD,SAASA,IACtB,IAAMC,GAAaC,EAAAA,EAAAA,IAAe,SAACC,GAAD,OAAgBA,EAAMC,QAAQC,eAC1DC,GAAYC,EAAAA,EAAAA,QAAkC,IAEpD,OACE,qBAASC,UAAWC,EAApB,WACE,kEACA,0BACE,gBAAKD,UAAWC,EAAhB,SACGR,GACCA,EAAWS,MAAM,EAAG,GAAGC,KAAI,SAACC,EAAaC,GACvC,OAAO,SAACC,EAAA,EAAD,CAAyBF,KAAMA,EAAMC,EAAGA,EAAGE,WAAYT,GAAjCO,e,sFChB3C,EAAqC,sCAArC,EAA+F,qCAA/F,EAA0J,uCAA1J,EAAsN,sCAAtN,EAAwQ,6BAAxQ,EAA4S,wB,0DCcrS,SAASG,EAAT,GAA2D,IAAhCJ,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,EAAGE,EAAsB,EAAtBA,WACzC,GAA0BE,EAAAA,EAAAA,UAAwB,MAAlD,eAAOC,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WACR,SAASC,EAAYC,GAAS,IAAD,EACb,OAAVJ,GAAkB,UAACH,EAAWQ,QAAQL,UAApB,OAAC,EAA2BM,SAASF,EAAEG,SAC3DN,EAAS,MAIb,OADAO,SAASC,iBAAiB,QAASN,GAAa,GACzC,WACLK,SAASE,oBAAoB,QAASP,GAAa,MAEpD,CAACH,EAAOH,IAoBX,OACE,iBAAKc,SAAU,EAAGC,IAAK,SAACC,GAAD,OAAShB,EAAWQ,QAAQV,GAAKkB,GAAKvB,UAAWC,EAAxE,WACE,iBAAKD,UAAWC,EAAhB,WACE,gBAAKuB,IAAKC,EAAAA,GAAWC,IAAI,YACzB,gBAAKF,IAAKG,EAAAA,GAAMD,IAAI,aAEtB,UAACE,EAAA,MAAD,CACEC,QAAM,EACNC,SAlBW,CACfC,QAAS,CACPC,WAAY,CACVC,KAAM,iBACNC,gBAAiB,KAGrBC,OAAQ,IAYJC,QAAS,SACTC,QAAS3B,IAAUL,EAAI,UAAY,SACnCL,UAAWsC,GAAAA,CAAGrC,GAAD,UACVA,EAAcS,IAAUL,IAN7B,WAQE,wBAAKD,EAAKmC,OAET7B,IAAUL,GACT,uBAAID,EAAKoC,SAET,UAACZ,EAAA,MAAD,YACE,uBAAIxB,EAAKoC,MAAMtC,MAAM,EAAG,KAAO,SAAY,QAI/C,iBACEuC,QAAS,SAAC3B,GACRA,EAAE4B,kBA5CZ,SAAuBrC,GAEnBM,EADED,GAAmB,IAAVA,EACF,KAEAL,GAyCHsC,CAActC,IAEhBL,UAAWC,EALb,WAME,mFACA,gBAAKD,UAAWsC,GAAAA,EAAG,UAAGrC,EAASS,IAAUL,IAAzC,UACE,SAAC,KAAD,CAAMuC,MAAM","sources":["webpack://auto-shop/./src/pages/Reviews/ReviewHome.module.scss?67c2","pages/Reviews/ReviewHome.tsx","webpack://auto-shop/./src/pages/Reviews/components/BlockItem.module.scss?3faa","pages/Reviews/components/BlockItem.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"ReviewHome_section__rzn6L\",\"review__wrapper\":\"ReviewHome_review__wrapper__5uqAd\"};","import { useRef } from 'react';\nimport { useAppSelector } from '../../hooks/Hooks';\nimport { IItem } from '../../types';\nimport { BlockItemReview } from './components/BlockItem';\nimport s from './ReviewHome.module.scss';\n\nexport default function ReviewHome() {\n  const reviewUser = useAppSelector((state: any) => state.reducer.reviewsUser);\n  const refBlocks = useRef<(HTMLDivElement | null)[]>([]);\n\n  return (\n    <section className={s.section}>\n      <h2>Отзывы</h2>\n      <div>\n        <div className={s.review__wrapper}>\n          {reviewUser &&\n            reviewUser.slice(0, 3).map((item: IItem, i: number) => {\n              return <BlockItemReview key={i} item={item} i={i} refElement={refBlocks} />;\n            })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block__review_item\":\"BlockItem_block__review_item__fgBEs\",\"block__review_img\":\"BlockItem_block__review_img__l1Ki0\",\"block__review_title\":\"BlockItem_block__review_title__473+Q\",\"block__review_more\":\"BlockItem_block__review_more__DGQRc\",\"show_more\":\"BlockItem_show_more__OPyb8\",\"down\":\"BlockItem_down__omvru\"};","import { useEffect, useState } from 'react';\nimport s from './BlockItem.module.scss';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\n\nimport { IItem } from '../../../types';\nimport { Down } from '../../../components/Svg';\nimport { play, reviewImg } from '../../../assets';\n\ninterface IProps {\n  item: IItem;\n  i: number;\n  refElement: any;\n}\n\nexport function BlockItemReview({ item, i, refElement }: IProps) {\n  const [index, setIndex] = useState<number | null>(null);\n\n  useEffect(() => {\n    function handleClose(e: any) {\n      if (index !== null && !refElement.current[index]?.contains(e.target)) {\n        setIndex(null);\n      }\n    }\n    document.addEventListener('click', handleClose, true);\n    return () => {\n      document.removeEventListener('click', handleClose, true);\n    };\n  }, [index, refElement]);\n\n  function showMoreTitle(i: number) {\n    if (index || index === 0) {\n      setIndex(null);\n    } else {\n      setIndex(i);\n    }\n  }\n\n  const variants = {\n    visible: {\n      transition: {\n        when: 'beforeChildren',\n        staggerChildren: 0.1,\n      },\n    },\n    hidden: {},\n  };\n\n  return (\n    <div tabIndex={0} ref={(el) => (refElement.current[i] = el)} className={s.block__review_item}>\n      <div className={s.block__review_img}>\n        <img src={reviewImg} alt=\"review\" />\n        <img src={play} alt=\"play\" />\n      </div>\n      <motion.div\n        layout\n        variants={variants}\n        initial={'hidden'}\n        animate={index === i ? 'visible' : 'hidden'}\n        className={cn(s.block__review_title, {\n          [s.show_more]: index === i,\n        })}>\n        <h2>{item.name}</h2>\n\n        {index === i ? (\n          <p>{item.title}</p>\n        ) : (\n          <motion.div>\n            <p>{item.title.slice(0, 204) + ' ...'}</p>{' '}\n          </motion.div>\n        )}\n\n        <div\n          onClick={(e) => {\n            e.stopPropagation();\n            showMoreTitle(i);\n          }}\n          className={s.block__review_more}>\n          <p>Подробнее</p>\n          <div className={cn({ [s.down]: index === i })}>\n            <Down color=\"black\" />\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"names":["ReviewHome","reviewUser","useAppSelector","state","reducer","reviewsUser","refBlocks","useRef","className","s","slice","map","item","i","BlockItem","refElement","BlockItemReview","useState","index","setIndex","useEffect","handleClose","e","current","contains","target","document","addEventListener","removeEventListener","tabIndex","ref","el","src","reviewImg","alt","play","motion","layout","variants","visible","transition","when","staggerChildren","hidden","initial","animate","cn","name","title","onClick","stopPropagation","showMoreTitle","color"],"sourceRoot":""}