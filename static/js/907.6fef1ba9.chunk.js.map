{"version":3,"file":"static/js/907.6fef1ba9.chunk.js","mappings":"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","sources":["webpack://auto-shop/./src/Pages/Reviews/Reviews.module.scss?95ed","Pages/Reviews/Reviews.tsx","webpack://auto-shop/./src/Pages/Reviews/components/BlockItem.module.scss?6fce","Pages/Reviews/components/BlockItem.tsx","webpack://auto-shop/./src/components/Company-title/CompanyTitle.module.scss?295e","components/Company-title/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Reviews_section__rF7sk\",\"block__review\":\"Reviews_block__review__ylpSv\",\"block__review_item\":\"Reviews_block__review_item__xZtae\",\"block__review_title\":\"Reviews_block__review_title__481x2\"};","import { useEffect, useRef, useState } from 'react';\nimport s from './Reviews.module.scss';\nimport { Helmet } from 'react-helmet-async';\n\nimport { Button } from '../../components/Btn/Button';\nimport { useAppSelector } from '../../Hooks/Hooks';\nimport { IItem } from '../../Type';\nimport { CompanyTitle } from '../../components/Company-title';\nimport { BlockItemReview } from './components/BlockItem';\n\nexport default function Reviews() {\n  const reviewUser = useAppSelector((state: any) => state.reducer.reviewsUser);\n  const [state, setState] = useState<Array<IItem>>(reviewUser);\n  const refBlocks = useRef<(HTMLDivElement | null)[]>([]);\n\n  useEffect(() => {\n    function onResize() {\n      if (window.innerWidth < 768 && window.innerWidth > 378) {\n        const newArr = reviewUser.slice(0, 2);\n        setState(newArr);\n      }\n      if (window.innerWidth < 378) {\n        const newArr = reviewUser.slice(0, 1);\n        setState(newArr);\n      }\n\n      if (window.innerWidth > 768) {\n        const newArr = reviewUser.slice(0, 6);\n        setState(newArr);\n      }\n    }\n    onResize();\n    window.addEventListener('resize', onResize);\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, [reviewUser]);\n\n  function showMoreReview() {\n    const newArr = state.concat(state.slice(0, 6));\n    setState(newArr);\n  }\n\n  return (\n    <section className={s.section}>\n      <Helmet>\n        <title>Reviews</title>\n        <meta name=\"description\" content=\"Отзывы наших клиентов\" />\n      </Helmet>\n      <CompanyTitle title=\"Отзывы\" />\n      <div className={s.block__review}>\n        {state.map((item: IItem, i: number) => {\n          return <BlockItemReview item={item} key={i} i={i} refElement={refBlocks} />;\n        })}\n      </div>\n      <Button title=\"Показать еще\" click={showMoreReview} />\n    </section>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block__review_item\":\"BlockItem_block__review_item__0UaLw\",\"block__review_img\":\"BlockItem_block__review_img__FRMxb\",\"block__review_title\":\"BlockItem_block__review_title__EMqQh\",\"block__review_more\":\"BlockItem_block__review_more__BW1EK\",\"show_more\":\"BlockItem_show_more__x8rLI\",\"down\":\"BlockItem_down__wZYzh\"};","import { useEffect, useState } from 'react';\nimport s from './BlockItem.module.scss';\nimport cn from 'classnames';\nimport { motion } from 'framer-motion';\n\nimport { IItem } from '../../../Type';\nimport { Down } from '../../../components/Svg';\nimport { play, reviewImg } from '../../../Assets';\n\ninterface IProps {\n  item: IItem;\n  i: number;\n  refElement: any;\n}\n\nexport function BlockItemReview({ item, i, refElement }: IProps) {\n  const [index, setIndex] = useState<number | null>(null);\n\n  useEffect(() => {\n    function handleClose(e: any) {\n      if (index !== null && !refElement.current[index]?.contains(e.target)) {\n        setIndex(null);\n      }\n    }\n    document.addEventListener('click', handleClose, true);\n    return () => {\n      document.removeEventListener('click', handleClose, true);\n    };\n  }, [index, refElement]);\n\n  function showMoreTitle(i: number) {\n    if (index || index === 0) {\n      setIndex(null);\n    } else {\n      setIndex(i);\n    }\n  }\n\n  const variants = {\n    visible: {\n      transition: {\n        when: 'beforeChildren',\n        staggerChildren: 0.1,\n      },\n    },\n    hidden: {},\n  };\n\n  return (\n    <div tabIndex={0} ref={(el) => (refElement.current[i] = el)} className={s.block__review_item}>\n      <div className={s.block__review_img}>\n        <img src={reviewImg} alt=\"review\" />\n        <img src={play} alt=\"play\" />\n      </div>\n      <motion.div\n        layout\n        variants={variants}\n        initial={'hidden'}\n        animate={index === i ? 'visible' : 'hidden'}\n        className={cn(s.block__review_title, {\n          [s.show_more]: index === i,\n        })}>\n        <h2>{item.name}</h2>\n\n        {index === i ? (\n          <p>{item.title}</p>\n        ) : (\n          <motion.div>\n            <p>{item.title.slice(0, 204) + ' ...'}</p>{' '}\n          </motion.div>\n        )}\n\n        <div\n          onClick={(e) => {\n            e.stopPropagation();\n            showMoreTitle(i);\n          }}\n          className={s.block__review_more}>\n          <p>Подробнее</p>\n          <div className={cn({ [s.down]: index === i })}>\n            <Down color=\"black\" />\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"company__sub\":\"CompanyTitle_company__sub__xGqT2\",\"hr\":\"CompanyTitle_hr__HsZj6\",\"favorites\":\"CompanyTitle_favorites__u5Z3b\",\"favorites__info\":\"CompanyTitle_favorites__info__+Co7W\"};","import s from './CompanyTitle.module.scss';\nimport cn from 'classnames';\nimport { NavLink } from 'react-router-dom';\nimport { Tag } from '../Tag';\n\ninterface IProps {\n  title: string;\n  favorites?: number;\n}\n\nexport function CompanyTitle({ title, favorites }: IProps) {\n  return (\n    <>\n      <div className={s.company__sub}>\n        <NavLink to=\"/\">\n          <p onClick={() => localStorage.setItem('active', 'Подбор авто')}>Главная /</p>\n        </NavLink>\n        <p>{title}</p>\n      </div>\n      <div className={cn({ [s.favorites]: favorites })}>\n        <h1>{title}</h1>\n        {!!favorites && favorites > 0 && (\n          <>\n            <Tag title={`Новые авто ${favorites}`} size=\"m\" link=\"\" />\n            <Tag title=\"С пробегом 0\" size=\"m\" link=\"\" />\n            <Tag title=\"Такси 0\" size=\"m\" link=\"\" />\n            <p className={s.favorites__info}>\n              В избранном <span>{favorites} авто</span>\n            </p>\n          </>\n        )}\n      </div>\n\n      <hr className={s.hr} />\n    </>\n  );\n}\n"],"names":["Reviews","reviewUser","useAppSelector","state","reducer","reviewsUser","useState","setState","refBlocks","useRef","useEffect","onResize","window","innerWidth","newArr","slice","addEventListener","removeEventListener","className","s","name","content","title","map","item","i","BlockItem","refElement","Button","click","concat","BlockItemReview","index","setIndex","handleClose","e","current","contains","target","document","tabIndex","ref","el","src","reviewImg","alt","play","motion","layout","variants","visible","transition","when","staggerChildren","hidden","initial","animate","cn","onClick","stopPropagation","showMoreTitle","color","CompanyTitle","favorites","to","localStorage","setItem","Tag","size","link"],"sourceRoot":""}